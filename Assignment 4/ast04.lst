     1                                 %line 1+1 ast04.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 
     8                                 
     9                                 
    10                                 
    11                                 
    12                                 
    13                                 
    14                                 
    15                                 
    16                                 
    17                                 
    18                                 
    19                                 
    20                                 
    21                                 [section .data]
    22                                 
    23                                 
    24                                 
    25                                 NULL equ 0
    26                                 
    27                                 TRUE equ 1
    28                                 FALSE equ 0
    29                                 
    30                                 EXIT_SUCCESS equ 0
    31                                 SYS_exit equ 60
    32                                 
    33                                 
    34                                 
    35                                 
    36 00000000 800E00005C04000003-    lst dd 3712, 1116, 1539, 1240, 1674
    37 00000000 060000D80400008A06-
    38 00000000 0000               
    39 00000014 5D0600006C0900001A-     dd 1629, 2412, 1818, 1242, 3333
    40 00000014 070000DA040000050D-
    41 00000014 0000               
    42 00000028 09090000BF040000A6-     dd 2313, 1215, 2726, 1140, 2565
    43 00000028 0A000074040000050A-
    44 00000028 0000               
    45 0000003C 370B00004E06000072-     dd 2871, 1614, 2418, 2513, 1422
    46 0000003C 090000D10900008E05-
    47 0000003C 0000               
    48 00000050 11070000BF040000F5-     dd 1809, 1215, 1525, 2712, 1441
    49 00000050 050000980A0000A105-
    50 00000050 0000               
    51 00000064 260E000060070000C1-     dd 3622, 1888, 1729, 1615, 2724
    52 00000064 0600004F060000A40A-
    53 00000064 0000               
    54 00000078 C1040000C80400002C-     dd 1217, 1224, 1580, 1147, 2324
    55 00000078 0600007B0400001409-
    56 00000078 0000               
    57 0000008C 9105000018070000EE-     dd 1425, 1816, 1262, 2718, 1192
    58 0000008C 0400009E0A0000A804-
    59 0000008C 0000               
    60 000000A0 9B050000D3040000CC-     dd 1435, 1235, 2764, 1615, 1310
    61 000000A0 0A00004F0600001E05-
    62 000000A0 0000               
    63 000000B4 E5060000A207000097-     dd 1765, 1954, 2967, 1515, 1556
    64 000000B4 0B0000EB0500001406-
    65 000000B4 0000               
    66 000000C8 26090000991C000014-     dd 2342, 7321, 1556, 2727, 1227
    67 000000C8 060000A70A0000CB04-
    68 000000C8 0000               
    69 000000DC 8707000066050000B9-     dd 1927, 1382, 1465, 3955, 1435
    70 000000DC 050000730F00009B05-
    71 000000DC 0000               
    72 000000F0 C904000073090000E6-     dd 1225, 2419, 2534, 1345, 2467
    73 000000F0 09000041050000A309-
    74 000000F0 0000               
    75 00000104 4F060000A707000037-     dd 1615, 1959, 1335, 2856, 2553
    76 00000104 050000280B0000F909-
    77 00000104 0000               
    78 00000118 0B04000029070000B8-     dd 1035, 1833, 1464, 1915, 1810
    79 00000118 0500007B0700001207-
    80 00000118 0000               
    81 0000012C B905000012060000DB-     dd 1465, 1554, 2267, 1615, 1656
    82 0000012C 0800004F0600007806-
    83 0000012C 0000               
    84 00000140 900800002107000085-     dd 2192, 1825, 1925, 2312, 1725
    85 00000140 07000008090000BD06-
    86 00000140 0000               
    87 00000154 D5090000DA0500008D-     dd 2517, 1498, 1677, 1475, 2034
    88 00000154 060000C3050000F207-
    89 00000154 0000               
    90 00000168 C70400005B07000095-     dd 1223, 1883, 1173, 1350, 2415
    91 00000168 040000460500006F09-
    92 00000168 0000               
    93 0000017C 41040000650400005E-     dd 1089, 1125, 1118, 1713, 3024
    94 0000017C 040000B1060000D00B-
    95 0000017C 0000               
    96 00000190 64000000               length dd 100
    97                                 
    98 00000194 00000000               lstMin dd 0
    99 00000198 00000000               estMed dd 0
   100 0000019C 00000000               lstMax dd 0
   101 000001A0 00000000               lstSum dd 0
   102 000001A4 00000000               lstAve dd 0
   103                                 
   104 000001A8 00000000               evenCnt dd 0
   105 000001AC 00000000               evenSum dd 0
   106 000001B0 00000000               evenAve dd 0
   107                                 
   108 000001B4 00000000               eightCnt dd 0
   109 000001B8 00000000               eightSum dd 0
   110 000001BC 00000000               eightAve dd 0
   111                                 
   112                                 
   113                                 
   114                                 [section .text]
   115                                 [global _start]
   116                                 _start:
   117                                 
   118                                 
   119                                 
   120                                 
   121 00000000 8B0425[00000000]        mov eax, dword [lst]
   122 00000007 890425[00000000]        mov dword [lstMin], eax
   123 0000000E 890425[00000000]        mov dword [lstMax], eax
   124                                 
   125                                 
   126                                 
   127                                 
   128 00000015 48C7C3[00000000]        mov rbx, lst
   129                                 
   130                                 
   131                                 
   132                                 
   133 0000001C 48C7C100000000          mov rcx, 0
   134 00000023 8B0C25[00000000]        mov ecx, dword [length]
   135                                 
   136                                 
   137                                 
   138                                 
   139 0000002A 8B03                    mov eax, dword [rbx]
   140 0000002C 010425[00000000]        add dword [estMed], eax
   141                                 
   142                                 
   143                                 
   144                                 
   145 00000033 41B808000000            mov r8d, 8
   146                                 
   147                                 
   148                                 
   149                                 
   150 00000039 41B902000000            mov r9d, 2
   151                                 
   152                                 
   153                                 
   154                                 
   155                                  CalcLoop:
   156                                 
   157                                 
   158                                 
   159                                 
   160 0000003F 8B03                    mov eax, dword [rbx]
   161                                 
   162                                 
   163                                 
   164                                 
   165 00000041 010425[00000000]        add dword [lstSum], eax
   166                                 
   167                                 
   168                                 
   169                                 
   170 00000048 3B0425[00000000]        cmp eax, dword [lstMin]
   171 0000004F 7305                    jae minDone
   172 00000051 890425[00000000]        mov dword [lstMin], eax
   173                                 
   174                                  minDone:
   175                                 
   176                                 
   177                                 
   178                                 
   179 00000058 3B0425[00000000]        cmp eax, dword [lstMax]
   180 0000005F 7605                    jbe maxDone
   181 00000061 890425[00000000]        mov dword [lstMax], eax
   182                                 
   183                                  maxDone:
   184                                 
   185                                 
   186                                 
   187                                 
   188 00000068 4883F934                cmp rcx, 52
   189 0000006C 7505                    jne NotMid1
   190 0000006E 010425[00000000]        add dword [estMed], eax
   191                                 
   192                                  NotMid1:
   193                                 
   194 00000075 4883F933                cmp rcx, 51
   195 00000079 7505                    jne NotMid2
   196 0000007B 010425[00000000]        add dword [estMed], eax
   197                                 
   198                                  NotMid2:
   199                                 
   200 00000082 4883F901                cmp rcx, 1
   201 00000086 7505                    jne NotLast
   202 00000088 010425[00000000]        add dword [estMed], eax
   203                                 
   204                                  NotLast:
   205                                 
   206                                 
   207                                 
   208                                 
   209 0000008F BA00000000              mov edx, 0
   210 00000094 41F7F0                  div r8d
   211 00000097 83FA00                  cmp edx, 0
   212 0000009A 750F                    jne notdivby8
   213 0000009C 8B03                    mov eax, dword [rbx]
   214 0000009E 010425[00000000]        add dword [eightSum], eax
   215 000000A5 830425[00000000]01      add dword [eightCnt], 1
   216                                 
   217                                  notdivby8:
   218                                 
   219                                 
   220                                 
   221                                 
   222 000000AD 8B03                    mov eax, dword [rbx]
   223 000000AF BA00000000              mov edx, 0
   224 000000B4 41F7F1                  div r9d
   225 000000B7 83FA00                  cmp edx, 0
   226 000000BA 750F                    jne notdivby2
   227 000000BC 8B03                    mov eax, dword [rbx]
   228 000000BE 010425[00000000]        add dword [evenSum], eax
   229 000000C5 830425[00000000]01      add dword [evenCnt], 1
   230                                 
   231                                  notdivby2:
   232                                 
   233                                 
   234                                 
   235                                 
   236 000000CD 4883C304                add rbx, 4
   237                                 
   238                                 
   239 000000D1 48FFC9                  dec rcx
   240 000000D4 4883F900                cmp rcx, 0
   241 000000D8 0F845BFFFFFF            jz CalcLoop
   242                                 
   243                                 
   244                                 
   245                                 
   246 000000DE BA00000000              mov edx, 0
   247 000000E3 8B0425[00000000]        mov eax, dword [lstSum]
   248 000000EA F73425[00000000]        div dword [length]
   249 000000F1 890425[00000000]        mov dword [lstAve], eax
   250                                 
   251                                 
   252                                 
   253                                 
   254 000000F8 BA00000000              mov edx, 0
   255 000000FD 8B0425[00000000]        mov eax, dword [estMed]
   256 00000104 B904000000              mov ecx, 4
   257 00000109 F7F1                    div ecx
   258 0000010B 890425[00000000]        mov dword [estMed], eax
   259                                 
   260                                 
   261                                 
   262                                 
   263                                 
   264                                 
   265                                 last:
   266 00000112 B83C000000              mov eax, SYS_exit
   267 00000117 BB00000000              mov ebx, EXIT_SUCCESS
   268 0000011C 0F05                    syscall
   269                                 
