#!/bin/bash
# CS +218
# Assignment #9 test script.

# ----------
# Initial checks.
#	Ensure executable file exists.

if [ -z $1 ]; then
	echo "Error, must provide executable file name."
	exit
fi

if [ ! -e $1 ] || [ ! -x $1 ]; then
	echo "Error, unable to find $1 executable file."
	exit
fi

# ----------
# Begin tests.

bolded=`tput bold`
normal=`tput sgr0`
clear
echo -e "\\n${bolded}Assignment #9 Test Utility${normal}\\n"

echo -e "     Executes program wih pre-defined input."
echo -e "     Compares program output to known correct results.\n"
echo -e "     Output for each execution is placed in ${bolded}tmp<testNum>${normal} file."
echo -e "     Correct output in ${bolded}mstr<testNum>${normal} file.\n"
echo
echo
echo -e "     Press return when ready to begin\n"
read
clear
echo -e "\\n${bolded}Assignment #9 Begin Tests${normal}\\n"

# ---------------------------------

./$1 >tmp1.txt << EOF
+01
+02
+03
+10
+100
+101
+102
+103
+117
+111
+121
+118
+11
+21
+13
-20
+21
+22
+28
+30
+31
-37
+35
+20
+21
+22
+23
+218
+211
+212
+213
-138
+131
+132
+133
+207
+201
+202
+203
+202
+102
+1008
+1001
+1002
+1003
+1100
+1101
+1102
-1105
+2000
+2001
+2007
-2003
+3008
+3001
+3002
+3003
+3010
-3011
+3021
+3013
+3020
+3021
-3022
+3023
-3070
+3031
+3038
-3037
-1010
+1011
+1021
+1013
-1026
+1021
+1022
+1023
+1030
-1036
+1032
+1033
+4300
+3301
+3302
-3307
+3318
+3311

EOF

if `diff tmp1.txt mstr1.txt >/dev/null` ; then
	echo "Test #1 - Successful"
else
	echo -e "Test #1 - Unsuccessful\n"
	diff tmp1.txt mstr1.txt
fi

# ---------------------------------

./$1 >tmp2.txt << EOF
  +0000000000000000001881
    +00000000000000000001213
+00000000000000000002131
   +000000000000000001213
+000000000000000000001213
 +0000000000000000001813
q
+F
  +000-3
 +000k
    +02
   -zilch
  -0000000000001113
     -000000000002331
+000000000000013a
   +00000000000000bh
 +00000000000000h611
       +000000000000007d1f
  +00000000000001831
   +000000000000002a89
      +0000000000002833
  +0000000000001731
 -0019c
   -0000000000000000001113
  +0000000000000000000002101
  -00000000000000z0000002111
   -00000000000 0000000000011s1
 -0000000000000000001233
   -0000000000000000001022
 +000000000000000000002111
   +0000000000000000000002113
-00000000000000000001771
   -0000000000000000000001*111
+0000000000000000000002e1
    -0000000000000000000001f2
+none
  +0-000000000000000000001322
+0032
     +0-00003k1
 +000001013
    +033
  -000813
             +000000000001218
-0000000000000000000000000001273
      -K232
H213
       -00000713
+212j
      +812
+0131
                            +0876
   -811
  +k212
   -0000000000000000000002133
  +0-132
-932
+888
+132
-2122
 -2381
+387
+1876
+813
   +0000000000000000002782
     +00000000000000000002733
+00000000000000000001231
  +000000000000000002213
  +000000000000000000002213
 _0000000000000000002183
q
-F
  -000-3
   +000k
  +02821
+zilch
-0000000000002813
   +000000000002731
+000000000000013a
    -00000000000000bh
+00000000000000h611
          +000000000000007d1f
  -00000000000002831
   +000000000000002a89
+0000000000001833
  -0000000000002131
 -0019c
+0000000000000000002213
  +0000000000000000000002301
 -00000000000000z0000002811
   +00000000000 0000000000011s1
 -0000000000000000002233
   -000000000000000001022
-000000000000000000002111
   +000000000000000000002113
-00000000000000000002011
   -0000000000000000000001*111
+0000000000000000000002e1
    -0000000000000000000001f2
none

EOF
#
if `diff tmp2.txt mstr2.txt >/dev/null` ; then
	echo "Test #2 - Successful"
else
	echo -e "Test #2 - Unsuccessful\n"
	diff tmp2.txt mstr2.txt
fi

# ---------------------------------

./$1 >tmp3.txt << EOF
+001213
     +0001321
+00002212
    +2111
+00002122
              -0000000000002211
+000000000000000000000000003888
     +1323
+2131
       +000002133
+2233
      +2331
+01321
+002213
     +0001321
+00002212
    +2333
+00002333
              +000000000002230
+0000000000000000000000000002132
      +2133
-3231
       +000002133
-2133
      +2181
+01171
                            +03212
   +00212
  +1211
   +00000000000000000000001332
                            +03212
   +00212
  +2111
   +00000000000000000000001332
+000000000000000000003211
     +00000000000000000002211
+000000000000000000002321
  +000000000000000000003223
-00000000000000000000x1213
 +000000000000000000003221
+q
-9
-zilch
+00000000000000a223
   +00000000000002213
+0000000000002187
   +000000000000887
+00000000000000e611
          +00000000000000711f
-00000000000000E321
   +000000000000002111
-00000000000001211
 +00000000000001171
+00191
-00000000000000000000$231
  +00000000000000000000031a01
+00000000000000z0000002131
   +00000000000 0000000000011s1
+0000000000000000000002311
   +00000000000000000000e321
+00000000000000000000061E1
   +00000000000000000000028x3
-0000000000000000000001821
   +0000000000000000000009*211
-0000000000000000000003231
    +0000000000000000000003132
none
+0000000000000000000003280

EOF

if `diff tmp3.txt mstr3.txt >/dev/null` ; then
	echo "Test #3 - Successful"
else
	echo -e "Test #3 - Unsuccessful\n"
	diff tmp3.txt mstr3.txt
fi

# ---------------------------------

./$1 >tmp4.txt << EOF
+1100
          +3001
+2211
+3202
+2101
+2201
+1020
+001601
+0211
+1101
+3201
+1201
+1801
+0101
+2121
+2121
+0001202
+1321
+2121
+1221
+01F1
+1211
+01101
+01300
+002130
+01702
+0311
+0221a1
+3101
+1801
+2101
+1621
+2201
+2131
+1213
+1071
+1121
+1131
+2111
+2102
+3221
+2111
+2311
+2111
+001102
+3221
+2211
+1721
+001021
+2211
+2201
+2110
+2200
-1810
+2020
+2100
+3221
+0221
-1322
  +00002222
+2772
+2100
          +1371
+3211
+3202
+3101
+3201
+1020
  +001601
+2211
+2101
+3201
+2201
+2201
+0101
+2121
+2121
+0001202
+1321
+2121
+1221
+21F1
+2211
+4101
+4173
+4130
+2102
+1311
+0221a1
+3101
+1101
+2101
+0121
+2201
+2131
+1213
+1071
+1121
+1131
+2111
+2102
+3221
+2111
+2311
+2111
+001102
+3221
+2211
+1721
+1021
+2211
+2201
+2110
+2200
-1810
+2820
+2100
+3221
+1221
+1322
  +1111
  +3333
+1231
+3123
+2131

EOF

if `diff tmp4.txt mstr4.txt >/dev/null` ; then
	echo "Test #4 - Successful"
else
	echo -e "Test #4 - Unsuccessful\n"
	diff tmp4.txt mstr4.txt
fi

# ---------------------------------

./$1 >tmp5.txt << EOF
-1000
-2000
-1000
-4000
-3000
-8000
-2000
    -3000
-6000
-3000
    -4000
-7000
    -5000

EOF
#
if `diff tmp5.txt mstr5.txt >/dev/null` ; then
	echo "Test #5 - Successful"
else
	echo -e "Test #5 - Unsuccessful\n"
	diff tmp5.txt mstr5.txt
fi

# ---------------------------------

./$1 >tmp6.txt << EOF
+1232
+10110
+1331
+1210
+1311
+nada
-none
+1-1
+1123
+0000000000+0
+1231
+2131
+0213
+0071
+0121
+0131
+2000
+2001
+0101
+2121
+001121
+0001202
+0321
+2121
+0221
+01F1
+0211
+01101
+01300
+22130
+00102
+0311
+0221a1
+3101
+1101
+2101
+0121
+2201
+2131
+0213
+0071
+0121
+0131
+2111
+2102
+901
+3221
+2111
+2311
+2111
+001102
+2002
+2003
+3000
+3001
+3002
+3003
+3010
+3011
+1001
+1002
+1003
+1010
+1011
+1012
+1013
+1020
+1021
+1022
+1023
+1030
+1031
+1032
+1033
+1000
+1001
+1002
+1103
+1110
+1111
+1112
+1113
+1120
+1121
+1222
+1123
+2100
+2101
+2102
+2103
+2100
+2101
+2102
+2103
+2200
+2201
+2202
+2203
+2300
+2301
+2302
+2303
+2310
+2311
+2321
+2313
+1030
+1031
+1032
+1033
+1000
+1001
+1002
+1003
+1010
+1011
+1022
+1023
+1030
+1031
+1032
+1033
+1000
+1001
+1002
+1003
+1010
+1011
+1012
+1013
+1020
+1021
+1333
+1400
+1101
+1121
+1121
+00001202
     +01321
+2121
+01221
+101F1
+1211
+1101
+1300
+1130
+1102
+10311
+10221a1
+1101
+1101
+1101
+1121
+1201
+1131
+1213
+1071
+1121
+1131
+1111
+1102
+1221
+1111
+1311
+1111
+001102
+3021
+3013
+3020
+3028
+3022
+3028
+3030
+3031
+3038
+3033
+1018
+2111
+2108
+3221
+1211
+311 +12
+123"3"
+33=0
+13]
we1679
+230l
i3
+1211
+12h21
+25 001
+2011
+2011
+2200
+2201
+2202
+2203
+2300
+2301
+2302
+2303
+2300
+2301
+2101
+2102
+2103
+2110
+2111
+2112
+2113
+2120
+2121
+2122
+2123
+2130
+2131
+2132
+2133
+1100
+1181
+1102
+1103
+1110
+1111
+1112
+1113
+1120
+1121
+1122
+1123
+1000
+1101
+1002
+1003
+1100
+1101
+1102
+1103
+1000
+1001
+1002
+1003
+1000
+1001
+1002
+1003
+1010
+1011
+1021
+1013
+2130
+2131
+2132
+2133
+2200
+2201
+2202
+2203
+2210
+2211
+2222
+2223
+2230
+2231
+2232
+2233
+2300
+2301
+2302
+2303
+2310
+2311
+2312
+2313
+2320
+2321
+2333
+2400
+13x42
+1230
+1321
+8112

EOF
#
if `diff tmp6.txt mstr6.txt >/dev/null` ; then
	echo "Test #6 - Successful"
else
	echo -e "Test #6 - Unsuccessful\n"
	diff tmp6.txt mstr6.txt
fi

# ---------------------------------

./$1 >tmp7.txt << EOF
+000801
+000000008002
+00803
-1103
        +0000000001010
+822
   +1112
 -0000713
 +001231
-0001220
 +0001233
   +7122
-001323
    +00000000000000000000000000000001122
+000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000x000000000
  +1223
+000721
+00822
-000823
+1103
   +000000001273
-1122
   +812
 -0000213
 +00731
-000820
 +000683
   -1322
+00723
    -00000000000000000000000000000001122
+000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000x000000000
  +283
  +1212

EOF
#
if `diff tmp7.txt mstr7.txt >/dev/null` ; then
	echo "Test #7 - Successful"
else
	echo -e "Test #7 - Unsuccessful\n"
	diff tmp7.txt mstr7.txt
fi

# ---------------------------------
# Done

echo
echo "Tests Complete"

